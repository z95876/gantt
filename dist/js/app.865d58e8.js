(function(){"use strict";var e={4537:function(e,t,a){var l=a(3751),n=a(641);const i={id:"app"},r={class:"view-container"};function o(e,t,a,l,o,d){const u=(0,n.g2)("el-menu-item"),s=(0,n.g2)("el-menu"),c=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.bF)(s,{mode:"horizontal","default-active":l.activeTab,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:"",class:"fixed-tab"},{default:(0,n.k6)((()=>[(0,n.bF)(u,{index:"/gantt"},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("项目要素管理与可视化")]))),_:1}),(0,n.bF)(u,{index:"/capability"},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("协同调控")]))),_:1}),(0,n.bF)(u,{index:"/decision"},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("关联分析")]))),_:1})])),_:1},8,["default-active"]),(0,n.Lk)("div",r,[(0,n.bF)(c)])])}var d=a(5220),u={setup(){const e=(0,d.lq)();return{activeTab:e.path}}},s=a(6262);const c=(0,s.A)(u,[["render",o],["__scopeId","data-v-4435c627"]]);var b=c,v=a(953),p=a(2311),f=a(7918),m=a(1857),g=a(3680);const h={style:{display:"flex","align-items":"baseline","justify-content":"space-between","margin-bottom":"20px"}},_={class:"controls mb-2"};var y={__name:"GanttChart",setup(e){const t={name:"基本作战单位子项目群",children:[{name:"条令子项目",children:[{name:"坦克分队作战条令"},{name:"装甲步兵分队作战条令"},{name:"侦察分队作战条令"}]},{name:"装备子项目",children:[{name:"坦克装备"},{name:"步战车装备"},{name:"122榴弹炮装备"}]},{name:"训练子项目",children:[{name:"合成分队训练场"},{name:"兵种分队训练场"},{name:"模拟训练"},{name:"训练与考核大纲"}]},{name:"基础设施子项目",children:[{name:"通信基础设施"},{name:"维修基础设施"},{name:"营房基础设施"}]},{name:"组织编制子项目",children:[{name:"坦克分队编制"},{name:"装甲步兵分队编制"},{name:"侦察分队编制"}]}]},a=(0,v.KR)("gantt"),i=(0,v.KR)(null),r=(0,v.KR)(null);let o=null;const d={data:[{id:1,text:"条令子项目",start_date:"2025-01-01",duration:310,parent:0,unit:"总部"},{id:2,text:"坦克分队条令",start_date:"2025-01-01",duration:270,parent:1,unit:"装甲部"},{id:3,text:"装甲步兵条令",start_date:"2025-02-01",duration:280,parent:1,unit:"步兵部"},{id:4,text:"侦察分队条令",start_date:"2025-03-01",duration:260,parent:1,unit:"侦察部"},{id:5,text:"装备子项目",start_date:"2025-07-01",duration:1600,parent:0,unit:"后勤部"},{id:6,text:"坦克装备子项目",start_date:"2025-08-01",duration:1509,parent:5,unit:"装甲部"},{id:7,text:"步战车装备子项目",start_date:"2025-07-01",duration:1589,parent:5,unit:"机械部"},{id:8,text:"122榴弹炮装备",start_date:"2025-09-01",duration:1538,parent:5,unit:"炮兵部"},{id:9,text:"训练子项目",start_date:"2026-01-01",duration:1234,parent:0,unit:"训练部"},{id:10,text:"合成分队训练场",start_date:"2026-01-01",duration:1144,parent:9,unit:"训练部"},{id:11,text:"兵种分队训练场",start_date:"2026-01-01",duration:1144,parent:9,unit:"训练部"},{id:12,text:"模拟训练子项目",start_date:"2026-03-01",duration:1170,parent:9,unit:"训练部"},{id:13,text:"训练与考核大纲",start_date:"2026-01-01",duration:1234,parent:9,unit:"训练部"},{id:14,text:"基础设施子项目",start_date:"2025-01-01",duration:330,parent:0,unit:"工程部"},{id:15,text:"通信基础设施",start_date:"2025-01-20",duration:280,parent:14,unit:"通信部"},{id:16,text:"维修基础设施",start_date:"2025-01-01",duration:330,parent:14,unit:"工程部"},{id:17,text:"营房基础设施",start_date:"2025-01-20",duration:180,parent:14,unit:"工兵部"},{id:18,text:"组织编制子项目",start_date:"2025-01-01",duration:300,parent:0,unit:"人事部"},{id:19,text:"坦克分队编制",start_date:"2025-01-01",duration:290,parent:18,unit:"人事部"},{id:20,text:"装甲步兵编制",start_date:"2025-01-01",duration:300,parent:18,unit:"人事部"},{id:21,text:"侦察分队编制",start_date:"2025-01-10",duration:290,parent:18,unit:"人事部"}],links:[{id:1,source:1,target:5,type:"1"},{id:2,source:1,target:9,type:"1"},{id:4,source:14,target:5,type:"1"},{id:5,source:14,target:9,type:"1"},{id:6,source:18,target:5,type:"1"},{id:7,source:18,target:9,type:"1"},{id:8,source:9,target:5,type:"2"},{id:9,source:14,target:5,type:"2"},{id:10,source:14,target:9,type:"2"}]};function u(){p.A.config.scale_unit="year",p.A.config.date_scale="%Y",p.A.config.subscales=[{unit:"year",step:1,date:"%d"}],p.A.render()}function s(){(0,n.dY)((()=>{o&&o.resize()}))}let c;return(0,n.sV)((()=>{p.A.config.xml_date="%Y-%m-%d",p.A.config.cascade_delete=!1,p.A.config.show_tasks_outside_timescale=!0,p.A.config.drag_progress=!1,p.A.config.columns=[{name:"text",label:"项目名称",width:200,tree:!0},{name:"unit",label:"交付单位",width:120,align:"center"},{name:"add",label:"",width:44}],p.A.config.lightbox.sections=[{name:"description",height:38,map_to:"text",type:"textarea",focus:!0,label:"任务名称"},{name:"time",type:"duration",map_to:"auto",label:"时间安排"}],p.A.locale.date={month_full:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],month_short:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],day_full:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],day_short:["日","一","二","三","四","五","六"],hours:"时间",minutes:"分钟",seconds:"秒",date_format:"%Y-%m-%d",time_format:"%H:%i",month_day:"%M %d"},Object.assign(p.A.locale.labels,{new_task:"新建任务",icon_save:"保存",icon_cancel:"取消",icon_details:"详情",icon_edit:"编辑",icon_delete:"删除",confirm_closing:"",confirm_deleting:"您确定要删除该任务吗？",section_description:"任务名称",section_time:"时间安排",save_button:"保存",cancel_button:"取消",delete_button:"删除"}),u(),p.A.config.start_date=new Date(2024,11,1),p.A.config.end_date=new Date(2029,11,31),p.A.templates.task_class=(e,t,a)=>{const l=[];let n=a.id,i=a.parent;while(i&&0!==i){const e=p.A.getTask(i);if(!e)break;n=i,i=e.parent}return l.push("project-"+n),l.join(" ")},c=p.A.attachEvent("onAfterTaskDrag",(e=>{const t=p.A.getTask(e),a=p.A.getChildren(e);if(a.length>0){const e=a.find((e=>{const a=p.A.getTask(e);return a.start_date<t.start_date||a.end_date>t.end_date}));e&&f.s.alert(`项目【${t.text}】未完全覆盖子项目的时间范围！`,"提示")}if(t.parent&&0!==t.parent){const e=p.A.getTask(t.parent);(t.start_date<e.start_date||t.end_date>e.end_date)&&f.s.alert(`项目【${t.text}】超出了父项目【${e.text}】的时间范围！`,"提示")}const l=[{id:1,source:1,target:5,type:"1"},{id:2,source:1,target:9,type:"1"},{id:4,source:14,target:5,type:"1"},{id:5,source:14,target:9,type:"1"},{id:6,source:18,target:5,type:"1"},{id:7,source:18,target:9,type:"1"},{id:8,source:9,target:5,type:"2"},{id:9,source:14,target:5,type:"2"},{id:10,source:14,target:9,type:"2"}];l.forEach((e=>{const t=p.A.getTask(e.source),a=p.A.getTask(e.target);if(t&&a&&("1"===e.type&&p.A.date.parseDate(t.start_date)>p.A.date.parseDate(a.start_date)&&f.s.alert(`依赖错误：任务【${t.text}】开始后，【${a.text}】才能开始！`),"2"===e.type)){const e=p.A.calculateEndDate(t.start_date,t.duration),l=p.A.calculateEndDate(a.start_date,a.duration);e>l&&f.s.alert(`依赖错误：任务【${t.text}】结束后，【${a.text}】才能结束！`)}}))})),p.A.init(i.value),p.A.parse(d),setTimeout((()=>{p.A.eachTask((e=>{p.A.hasChild(e.id)&&p.A.open(e.id)}))}),0),o=g.Ts(r.value);const e={tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"tree",roam:!0,data:[t],top:"10%",left:"5%",bottom:"20%",right:"5%",symbol:"emptyCircle",orient:"vertical",expandAndCollapse:!0,initialTreeDepth:3,label:{position:"left",verticalAlign:"middle",align:"right",fontSize:14,padding:[0,0,15,0]},leaves:{label:{position:"right",verticalAlign:"middle",align:"left",formatter:function(e){return e.name.split("").join("\n")},padding:[0,0,10,0],overflow:"break"}},grid:{top:50,bottom:100,left:50,right:50}}]};o.setOption(e),o&&o.resize(),window.addEventListener("resize",s)})),(0,n.xo)((()=>{c&&p.A.detachEvent(c),p.A.clearAll(),window.removeEventListener("resize",s),o&&o.dispose()})),(e,t)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",h,[(0,n.Lk)("div",null,[t[4]||(t[4]=(0,n.Lk)("h2",{class:"text-2xl font-bold mb-4",style:{"margin-top":"0"}},"基本作战单位子项目群",-1)),(0,n.Lk)("div",_,[(0,n.bF)((0,v.R1)(m.S2),{type:"primary",onClick:t[0]||(t[0]=e=>a.value="gantt")},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("甘特图")]))),_:1}),(0,n.bF)((0,v.R1)(m.S2),{type:"primary",onClick:t[1]||(t[1]=e=>{a.value="topo",s()})},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("拓扑图")]))),_:1})])]),t[5]||(t[5]=(0,n.Fv)('<div style="font-size:12px;color:#666;line-height:1.5;margin-left:16px;margin-top:0;" data-v-757d4c6b><div data-v-757d4c6b>依赖规则：</div><div data-v-757d4c6b>1.<strong data-v-757d4c6b>条令子项目</strong>、<strong data-v-757d4c6b>基础设施子项目</strong>和<strong data-v-757d4c6b>组织编制子项目</strong>应在<strong data-v-757d4c6b>装备子项目</strong>和<strong data-v-757d4c6b>训练子项目</strong>开始前开始。</div><div data-v-757d4c6b>2.<strong data-v-757d4c6b>基础设施子项目</strong>应在<strong data-v-757d4c6b>装备子项目</strong>和<strong data-v-757d4c6b>训练子项目</strong>结束前结束，<strong data-v-757d4c6b>训练子项目</strong>应在<strong data-v-757d4c6b>装备子项目</strong>结束前结束。</div><div data-v-757d4c6b>3.父项目时间范围应覆盖全部的子项目。</div></div>',1))]),(0,n.bo)((0,n.Lk)("div",{ref_key:"ganttContainer",ref:i,class:"gantt-container"},null,512),[[l.aG,"gantt"===a.value]]),(0,n.bo)((0,n.Lk)("div",{ref_key:"chart",ref:r,class:"chart-container"},null,512),[[l.aG,"topo"===a.value]])],64))}};const k=(0,s.A)(y,[["__scopeId","data-v-757d4c6b"]]);var x=k,w=a(33),A=a(163),F=a(7046),L=a(4213);const R={class:"explanation mb-4 text-sm text-gray-700",style:{"margin-bottom":"20px"}},z={style:{"margin-top":"10px"}},C={style:{"overflow-y":"auto"}};var E={__name:"CapabilityTable",setup(e){async function t(){const e=new F.yoT({creator:"系统自动生成",title:"删除影响评估报告",description:"基于项目能力冗余度与满足度的删除影响分析",styles:{paragraphStyles:[{id:"Normal",name:"Normal",run:{font:"Arial",size:24}}]},sections:[{properties:{},children:[new F.fzL({text:"删除影响评估报告",heading:"Heading1"}),new F.fzL({text:"一、丢失能力列表："}),new F.fzL({children:c.value.map((e=>new F.NTc(`- 能力${e}：${p[e].label} `)))}),new F.fzL({text:`二、总体影响程度：${b.value}`,spacing:{before:200}}),new F.fzL({text:"三、各项目影响对比："}),a()]}]}),t=await F.ND6.toBlob(e);(0,L.saveAs)(t,"删除影响评估报告.docx")}function a(){const e=new F.Hjg({children:["项目","原冗余度","新冗余度","Δ冗余度"].map((e=>new F.nA6({children:[new F.fzL({text:e})]})))}),t=u.value.map((e=>new F.Hjg({children:[new F.nA6({children:[new F.fzL({text:e.name})]}),new F.nA6({children:[new F.fzL({text:e.oldRedundancy})]}),new F.nA6({children:[new F.fzL({text:e.newRedundancy})]}),new F.nA6({children:[new F.fzL({text:e.delta})]})]})));return new F.XIK({rows:[e,...t],width:{size:100,type:"pct"}})}window.addEventListener("error",(e=>{e.message&&e.message.includes("ResizeObserver loop")&&e.stopImmediatePropagation()}));const l=(0,v.KR)([{name:"坦克分队作战条令子项目",abilities:[1,2,3,4,5,6],satisfaction:0,redundancy:0},{name:"装甲步兵分队作战条令子项目",abilities:[1,2,3,4,5,6],satisfaction:0,redundancy:0},{name:"侦察分队作战条令子项目",abilities:[1,2,3,4,5,6,11,12,13,14,15,17,18,19,20,21,22,23,24,25,26,27],satisfaction:0,redundancy:0},{name:"坦克装备列装配备子项目",abilities:[2,3,4,5,6],satisfaction:0,redundancy:0},{name:"步战车装备加改装子项目",abilities:[2,3,4,5,6],satisfaction:0,redundancy:0},{name:"122榴弹炮装备子项目",abilities:[2,3,4,5,6],satisfaction:0,redundancy:0},{name:"合成分队训练场子项目",abilities:[2,3,4,5,6,73],satisfaction:0,redundancy:0},{name:"兵种分队训练场子项目",abilities:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,56,57,58,59,60,61,62,63,64,65,66,67,69,70,71,72,73],satisfaction:0,redundancy:0},{name:"模拟训练子项目",abilities:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,56,57,58,59,60,61,62,63,64,65,66,67,69,70,71,72,73],satisfaction:0,redundancy:0},{name:"训练与考核大纲子项目",abilities:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,56,57,58,59,60,61,62,63,64,65,66,67],satisfaction:0,redundancy:0},{name:"通信基础设施子项目",abilities:[69,70,71,72,73,78,80,81,82,83,84],satisfaction:0,redundancy:0},{name:"维修基础设施子项目",abilities:[78],satisfaction:0,redundancy:0},{name:"营房基础设施子项目",abilities:[74,75,78,80,81,82,83,84],satisfaction:0,redundancy:0},{name:"坦克分队编制子项目",abilities:[2,3,4,5],satisfaction:0,redundancy:0},{name:"装甲步兵分队编制子项目",abilities:[2,3,4,5],satisfaction:0,redundancy:0},{name:"侦察分队编制子项目",abilities:[11,12,13,14,15,17,18,19,20,21,22,23,24,25,26,27,28],satisfaction:0,redundancy:0}]),i=(0,v.KR)(!1),r=(0,v.KR)(!1);let o=(0,v.KR)({name:"",abilities:[]}),d=(0,v.KR)(null);const u=(0,v.KR)([]),s=(0,v.KR)(null),c=(0,v.KR)([]),b=(0,v.KR)(""),p=[{label:"远程机动能力",value:1},{label:"战场机动能力",value:2},{label:"对地面固定点目标打击能力",value:3},{label:"对地面固定面目标打击能力",value:4},{label:"对地面移动点目标打击能力",value:5},{label:"核生化作战能力",value:6},{label:"对敌通信干扰能力",value:7},{label:"对敌雷达干扰能力",value:8},{label:"计算机网络攻击能力",value:9},{label:"对敌定位导航干扰能力",value:10},{label:"通信侦察能力",value:11},{label:"雷达侦察能力",value:12},{label:"网络空间侦察能力",value:13},{label:"可见光侦察能力",value:14},{label:"红外侦察能力",value:15},{label:"工程侦察能力",value:16},{label:"生物侦察能力",value:17},{label:"防化侦察能力",value:18},{label:"核辐侦察能力",value:19},{label:"目标识别能力",value:20},{label:"数据处理能力",value:21},{label:"情报产品生成能力",value:22},{label:"战场情报数据共享能力",value:23},{label:"侦察规划能力",value:24},{label:"情报信息汇总能力",value:25},{label:"情报信息组织能力",value:26},{label:"情报信息分发能力",value:27},{label:"情报信息理解能力",value:28},{label:"态势分析能力",value:29},{label:"作战规划能力",value:30},{label:"决策能力",value:31},{label:"计划制定能力",value:32},{label:"行动协调能力",value:33},{label:"战场监控能力",value:34},{label:"作战数据保障能力",value:35},{label:"超短波通信能力",value:36},{label:"卫星通信能力",value:37},{label:"微波通信能力",value:38},{label:"有线通信能力",value:39},{label:"信息共享能力",value:40},{label:"分布式计算能力",value:41},{label:"用户接入能力",value:42},{label:"定位导航能力",value:43},{label:"授时能力",value:44},{label:"网络管理能力",value:45},{label:"频谱管理能力",value:46},{label:"抗干扰能力",value:47},{label:"信息安全能力",value:48},{label:"防空中火力打击能力",value:49},{label:"防地面火力打击能力",value:50},{label:"防核生化能力",value:51},{label:"防电磁脉冲破坏能力",value:52},{label:"防定向能武器能力",value:53},{label:"战场军需保障能力",value:54},{label:"战场器材保障能力",value:55},{label:"战场油料保障能力",value:56},{label:"战场卫生救护能力",value:57},{label:"战场弹药保障能力",value:58},{label:"装备战场抢救抢修能力",value:59},{label:"装备战场维修能力",value:60},{label:"战场保障管理能力",value:61},{label:"道路保障能力",value:62},{label:"工程防护能力",value:63},{label:"地雷爆破能力",value:64},{label:"工程破障能力",value:65},{label:"工程伪装能力",value:66},{label:"核生化洗消能力",value:67},{label:"训练管理能力",value:68},{label:"模拟训练能力",value:69},{label:"网络训练能力",value:70},{label:"专业技术训练能力",value:71},{label:"专业技术协同训练能力",value:72},{label:"分队战术训练能力",value:73},{label:"政治教育能力",value:74},{label:"学习娱乐能力",value:75},{label:"营区管理能力",value:76},{label:"装备维修保养能力",value:77},{label:"装备管理能力",value:78},{label:"器材管理能力",value:79},{label:"弹药管理能力",value:80},{label:"卫生服务能力",value:81},{label:"油料保障能力",value:82},{label:"给养服务能力",value:83},{label:"生活服务能力",value:84}];function f(){const e=l.value.flatMap((e=>e.abilities));l.value.forEach((t=>{const a=t.abilities.length,l=t.abilities.filter((t=>e.filter((e=>e===t)).length>1)).length;t.satisfaction=a/84,t.redundancy=0===a?0:l/a}))}function m(){""!==o.value.name?0!==o.value.abilities.length?(l.value.push({name:o.value.name,abilities:[...o.value.abilities],satisfaction:0,redundancy:0}),i.value=!1,o.value={name:"",abilities:[]},f(),A.nk.success("项目添加成功")):A.nk.warning("请选择至少一项能力"):A.nk.warning("请填写项目名称")}function g(e){s.value=e;const t={};l.value.forEach((a=>{a!==e&&a.abilities.forEach((e=>{t[e]=(t[e]||0)+1}))})),c.value=e.abilities.filter((e=>!t[e]));const a=c.value.length;b.value=0===a?"小":a<=2?"中":"大",r.value=!0,d.value=e;const n=l.value.map((e=>({name:e.name,abilities:e.abilities.slice()}))),i=l.value.filter((t=>t!==e)),o=i.flatMap((e=>e.abilities));i.forEach((e=>{const t=e.abilities.length,a=e.abilities.filter((e=>o.filter((t=>t===e)).length>1)).length;e.redundancy=0===t?0:a/t})),u.value=i.map((e=>({name:e.name,oldRedundancy:n.find((t=>t.name===e.name)).abilities.filter((e=>{const t=n.flatMap((e=>e.abilities));return t.filter((t=>t===e)).length>1})).length/e.abilities.length,newRedundancy:e.redundancy}))),r.value=!0}function h(){l.value=l.value.filter((e=>e!==d.value)),f(),d.value=null,r.value=!1,A.nk.success("项目已删除")}return f(),(e,a)=>{const s=(0,n.g2)("el-button"),f=(0,n.g2)("el-table-column"),_=(0,n.g2)("el-table"),y=(0,n.g2)("el-input"),k=(0,n.g2)("el-form-item"),x=(0,n.g2)("el-checkbox"),A=(0,n.g2)("el-checkbox-group"),F=(0,n.g2)("el-form"),L=(0,n.g2)("el-dialog"),E=(0,n.g2)("el-tag");return(0,n.uX)(),(0,n.CE)("div",null,[a[20]||(a[20]=(0,n.Lk)("h2",null,"项目能力冗余度与满足度表",-1)),(0,n.Lk)("div",R,[a[8]||(a[8]=(0,n.Lk)("p",null,"能力满足度：指某个项目完成的全部能力在总能力中所占比例，反映其对总体能力的贡献程度。计算公式：满足度 = 项目完成能力数 / 能力总数",-1)),a[9]||(a[9]=(0,n.Lk)("p",null,"能力冗余度：指该项目完成的能力中，有多少比例也被其他项目完成，反映项目能力的重复程度。计算公式：冗余度 = 完成能力中被其他项目同时完成的数量 / 项目完成能力数",-1)),(0,n.bF)(s,{type:"primary",onClick:a[0]||(a[0]=e=>i.value=!0)},{default:(0,n.k6)((()=>a[7]||(a[7]=[(0,n.eW)("添加项目")]))),_:1})]),(0,n.bF)(_,{data:l.value,style:{width:"100%"},border:""},{default:(0,n.k6)((()=>[(0,n.bF)(f,{prop:"name",label:"项目名称"}),(0,n.bF)(f,{prop:"satisfaction",label:"满足度",sortable:"","sort-method":(e,t)=>e.satisfaction-t.satisfaction,formatter:e=>(100*e.satisfaction).toFixed(2)+"%"},null,8,["sort-method","formatter"]),(0,n.bF)(f,{prop:"redundancy",label:"冗余度",sortable:"","sort-method":(e,t)=>e.redundancy-t.redundancy,formatter:e=>(100*e.redundancy).toFixed(2)+"%"},null,8,["sort-method","formatter"]),(0,n.bF)(f,{label:"操作"},{default:(0,n.k6)((({row:e})=>[(0,n.bF)(s,{size:"small",type:"danger",onClick:t=>g(e)},{default:(0,n.k6)((()=>a[10]||(a[10]=[(0,n.eW)("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,n.bF)(L,{modelValue:i.value,"onUpdate:modelValue":a[4]||(a[4]=e=>i.value=e),title:"添加项目",width:"600px"},{footer:(0,n.k6)((()=>[(0,n.bF)(s,{onClick:a[3]||(a[3]=e=>i.value=!1)},{default:(0,n.k6)((()=>a[11]||(a[11]=[(0,n.eW)("取消")]))),_:1}),(0,n.bF)(s,{type:"primary",onClick:m},{default:(0,n.k6)((()=>a[12]||(a[12]=[(0,n.eW)("添加")]))),_:1})])),default:(0,n.k6)((()=>[(0,n.bF)(F,{model:(0,v.R1)(o),"label-width":"100px"},{default:(0,n.k6)((()=>[(0,n.bF)(k,{label:"项目名称"},{default:(0,n.k6)((()=>[(0,n.bF)(y,{modelValue:(0,v.R1)(o).name,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,v.R1)(o).name=e),placeholder:"请输入项目名称"},null,8,["modelValue"])])),_:1}),(0,n.bF)(k,{label:"项目具备能力"},{default:(0,n.k6)((()=>[(0,n.bF)(A,{modelValue:(0,v.R1)(o).abilities,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,v.R1)(o).abilities=e)},{default:(0,n.k6)((()=>[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(p,(e=>(0,n.bF)(x,{key:e.value,label:e.value},{default:(0,n.k6)((()=>[(0,n.eW)((0,w.v_)(e.label),1)])),_:2},1032,["label"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,n.bF)(L,{modelValue:r.value,"onUpdate:modelValue":a[6]||(a[6]=e=>r.value=e),title:"删除项目影响评估",width:"600px"},{footer:(0,n.k6)((()=>[(0,n.bF)(s,{onClick:a[5]||(a[5]=e=>r.value=!1)},{default:(0,n.k6)((()=>a[16]||(a[16]=[(0,n.eW)("取消")]))),_:1}),(0,n.bF)(s,{type:"danger",onClick:h},{default:(0,n.k6)((()=>a[17]||(a[17]=[(0,n.eW)("确认删除")]))),_:1}),(0,n.bF)(s,{type:"success",onClick:t},{default:(0,n.k6)((()=>a[18]||(a[18]=[(0,n.eW)("导出报告")]))),_:1})])),default:(0,n.k6)((()=>[a[19]||(a[19]=(0,n.Lk)("p",null,"该项目独有能力如下（删除后将丢失这些能力）：",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(c.value,(e=>((0,n.uX)(),(0,n.Wv)(E,{key:e,type:"danger",class:"mr-2 mb-2"},{default:(0,n.k6)((()=>[(0,n.eW)((0,w.v_)(p[e]["label"]),1)])),_:2},1024)))),128)),(0,n.Lk)("p",z,[a[13]||(a[13]=(0,n.eW)("影响程度：")),(0,n.Lk)("b",null,(0,w.v_)(b.value),1)]),(0,n.Lk)("div",C,[(0,n.Lk)("p",null,[a[14]||(a[14]=(0,n.eW)("如果删除项目 ")),(0,n.Lk)("strong",null,(0,w.v_)((0,v.R1)(d)?.name),1),a[15]||(a[15]=(0,n.eW)(" 后，其他项目的冗余度变化如下："))]),(0,n.bF)(_,{data:u.value,size:"small",style:{width:"100%",height:"350px"}},{default:(0,n.k6)((()=>[(0,n.bF)(f,{prop:"name",label:"项目名称"}),(0,n.bF)(f,{prop:"oldRedundancy",label:"原冗余度",formatter:e=>(100*e.oldRedundancy).toFixed(2)+"%"},null,8,["formatter"]),(0,n.bF)(f,{prop:"newRedundancy",label:"新冗余度",formatter:e=>(100*e.newRedundancy).toFixed(2)+"%"},null,8,["formatter"])])),_:1},8,["data"])])])),_:1},8,["modelValue"])])}}};const T=(0,s.A)(E,[["__scopeId","data-v-4f59b6a8"]]);var j=T,K=a(6735),W=a(8911),O={__name:"DecisionTree",setup(e){const t=["机动能力","火力打击能力","网电对抗能力","战场感知能力","情报处理能力","作战指挥能力","网信保障能力","综合防护能力","后勤保障能力","装备保障能力","作战保障能力","训练能力","平时保障能力"],a=["坦克分队作战条令子项目","装甲步兵分队作战条令子项目","侦察分队作战条令子项目","坦克装备列装配备子项目","步战车装备加改装子项目","122榴弹炮装备子项目","合成分队训练场子项目","兵种分队训练场子项目","模拟训练子项目","训练与考核大纲子项目","通信基础设施子项目","维修基础设施子项目","营房基础设施子项目","坦克分队编制子项目","装甲步兵分队编制子项目","侦察分队编制子项目"],l=(0,v.Kh)(a.map((e=>({project:e,values:Array.from({length:t.length},(()=>parseFloat((.8*Math.random()+.1).toFixed(2))))})))),i=(0,v.KR)(null);let r=null;function o(e,a=0,l=10){if(1===e.length||a>=l)return{name:e[0].project};const n=d(e);if(-1===n)return{name:e[0].project};const i=.5,r=e.filter((e=>e.values[n]<=i)),u=e.filter((e=>e.values[n]>i));return 0===r.length||0===u.length?{name:e[0].project}:{name:`${t[n]} > ${i}?`,children:[o(u,a+1,l),o(r,a+1,l)]}}function d(e){let a=-1,l=-1/0;for(let n=0;n<t.length;n++){const t=[],i=[];for(const a of e)a.values[n]<=.5?t.push(a):i.push(a);const r=t.length*t.length+i.length*i.length;r>l&&t.length>0&&i.length>0&&(l=r,a=n)}return a}function u(){const e=l.every((e=>"string"===typeof e.project&&e.project&&e.values.some((e=>e>0))));if(!e)return void A.nk.error("请确保每个项目填写完整并且包含至少一个非零能力值");const t=o(l),a={tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"tree",data:[t],top:"5%",left:"15%",bottom:"5%",right:"15%",symbol:"emptyCircle",orient:"horizontal",expandAndCollapse:!0,initialTreeDepth:10,label:{position:"left",verticalAlign:"middle",align:"right",fontSize:14},leaves:{label:{position:"right",verticalAlign:"middle",align:"left"}},animationDurationUpdate:750}]};r.setOption(a)}return(0,n.sV)((()=>{r=g.Ts(i.value),window.addEventListener("resize",(()=>r?.resize()))})),(0,n.xo)((()=>{window.removeEventListener("resize",(()=>r?.resize())),r?.dispose()})),(e,a)=>((0,n.uX)(),(0,n.CE)("div",null,[a[1]||(a[1]=(0,n.Lk)("h2",{class:"text-xl font-bold mb-4"},"项目能力分类决策树",-1)),(0,n.bF)((0,v.R1)(K.Up),{data:l,border:"",style:{width:"100%","margin-bottom":"16px"}},{default:(0,n.k6)((()=>[(0,n.bF)((0,v.R1)(K.o8),{prop:"project",label:"项目",fixed:"",width:"160"}),((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(t,((e,t)=>(0,n.bF)((0,v.R1)(K.o8),{key:t,label:e,prop:e,width:"110"},{default:(0,n.k6)((({row:e})=>[(0,n.bF)((0,v.R1)(W.WK),{modelValue:e.values[t],"onUpdate:modelValue":a=>e.values[t]=a,modelModifiers:{number:!0},size:"small",min:0,max:1,type:"number"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["label","prop"]))),64))])),_:1},8,["data"]),(0,n.bF)((0,v.R1)(m.S2),{type:"primary",onClick:u},{default:(0,n.k6)((()=>a[0]||(a[0]=[(0,n.eW)("生成决策树")]))),_:1}),(0,n.Lk)("div",{ref_key:"chart",ref:i,class:"chart-container"},null,512)]))}};const V=(0,s.A)(O,[["__scopeId","data-v-30ceda1b"]]);var D=V;const $=[{path:"/",redirect:"/gantt"},{path:"/gantt",component:x},{path:"/capability",component:j},{path:"/decision",component:D}],S=(0,d.aE)({history:(0,d.LA)(),routes:$});var I=S,X=a(577);a(4188);const M=(0,l.Ef)(b);M.use(I).use(X.A).mount("#app")}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var i=t[l]={exports:{}};return e[l].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,l,n,i){if(!l){var r=1/0;for(s=0;s<e.length;s++){l=e[s][0],n=e[s][1],i=e[s][2];for(var o=!0,d=0;d<l.length;d++)(!1&i||r>=i)&&Object.keys(a.O).every((function(e){return a.O[e](l[d])}))?l.splice(d--,1):(o=!1,i<r&&(r=i));if(o){e.splice(s--,1);var u=n();void 0!==u&&(t=u)}}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[l,n,i]}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,i,r=l[0],o=l[1],d=l[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(d)var s=d(a)}for(t&&t(l);u<r.length;u++)i=r[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(s)},l=self["webpackChunkvue_gantt_schedule_timeline_calendar_example"]=self["webpackChunkvue_gantt_schedule_timeline_calendar_example"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],(function(){return a(4537)}));l=a.O(l)})();
//# sourceMappingURL=app.865d58e8.js.map